{% extends 'base.html' %}

{% block content %}
<div class="accordion" id="accordionExample">
{% for category in categories %}
  <div class="accordion-item">
    <h2 class="accordion-header" id="headingOne">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
        {{category}}
      </button>
    </h2>
    <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
      <div class="accordion-body">
        <strong>This is the body of {{category}}.</strong>
      </div>
    </div>
  </div>
{% endfor %}
</div>

<ul>
    {% for category in categories %}
        <li>
            <a id="{{category}}-tab" href="#{{category}}" role="tab" aria-controls="{{category}}" aria-selected="true">{{category}}</a>
        </li>
    {% endfor %}
</ul>

<div class="tab-content" id="pills-tabContent">

    {% for category in categories %}

      <div id="{{category}}" role="tabpanel" aria-labelledby="{{category}}-tab">
        {% for meal in menu_list %}
            {% if meal.category == category %}
              <div>
                <div>
                  <h3><a href="{% url 'meal_detail' meal.slug %}">{{ meal.name }}</a></h3>
                </div>
                <div>
                  <strong>${{ meal.price }}</strong>
                </div>
              </div>
            {% endif %}
        {% endfor %}

      </div>
      
    {% endfor %}
  </div>

<div class="pagination">
    <span class="step-links">
        {% if page_obj.has_previous %}
        <a href="?page=1">&laquo; first</a>
        <a href="?page={{ page_obj.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
        </span>

        {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}">next</a>
        <a href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
        {% endif %}
    </span>
</div>

{% endblock %}