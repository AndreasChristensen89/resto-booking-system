{% extends 'base.html' %}

{% block content %}
{% for category in categories %}
<!-- Button trigger modal -->
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
  {{category}}
</button>

<!-- Modal -->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">{{category}}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Understood</button>
      </div>
    </div>
  </div>
</div>
{% endfor %}
</div>

<ul>
    {% for category in categories %}
        <li>
            <a id="{{category}}-tab" href="#{{category}}" role="tab" aria-controls="{{category}}" aria-selected="true">{{category}}</a>
        </li>
    {% endfor %}
</ul>

<div class="tab-content" id="pills-tabContent">

    {% for category in categories %}

      <div id="{{category}}" role="tabpanel" aria-labelledby="{{category}}-tab">
        {% for meal in menu_list %}
            {% if meal.category == category %}
              <div>
                <div>
                  <h3><a href="{% url 'meal_detail' meal.slug %}">{{ meal.name }}</a></h3>
                </div>
                <div>
                  <strong>${{ meal.price }}</strong>
                </div>
              </div>
            {% endif %}
        {% endfor %}

      </div>
      
    {% endfor %}
  </div>

<div class="pagination">
    <span class="step-links">
        {% if page_obj.has_previous %}
        <a href="?page=1">&laquo; first</a>
        <a href="?page={{ page_obj.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
        </span>

        {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}">next</a>
        <a href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
        {% endif %}
    </span>
</div>

{% endblock %}